<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>支付页面</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- 引入 Bootstrap
	<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	 -->

	<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.css">
	<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap-theme.css">
	<script src="bootstrap-3.3.7-dist/js/jquery.min.js"></script>
	<script src="bootstrap-3.3.7-dist/js/bootstrap.js"></script>

	<script>
		var params = getParamURL();
		$(function() {
			console.log(params);

			$.ajax({
                type : "POST",
                dataType : "json",
                url : "http://localhost:2017/esb/followupApp/v1/medicalJournal/pay/payReturn",
                contentType : "application/json",
                data : JSON.stringify(params),
				success: function(result) {
					console.log(result);
				},
				error : function(error) {
					console.log(error);
				}
			});

		});

		function getParamURL() {
            var getPara = window.location.href.split("?");  //取得Get参数
            var getArr = {};
            if(getPara.length > 1) {
                var params = getPara[1].split("&");
                if(params.length > 1) {
                    for(var i = 0, paraLength = params.length; i < paraLength; i++) {
                        if(params[i].indexOf("=") > 0) {
                            var key = params[i].substr(0, params[i].indexOf("="));
                            var value = params[i].substring(params[i].indexOf("=") + 1);
                            getArr[key] = decodeURIComponent(value);
						} else {
                            getArr[params[i]] = '';
						}
                    }
                } else {
                    if(params[0].indexOf("=") > 0) {
                        var key = params[0].substr(0, params[0].indexOf("="));
                        var value = params[0].substring(params[0].indexOf("=") + 1);
                        getArr[key] = decodeURIComponent(value);
                    } else {
                        getArr[params[0]] = '';
                    }
                }
            }
            return getArr;
		}
	</script>


</head>
<body>
	<div class="container">
		<div class="alert alert-success">支付成功</div>
	</div>
	
</body>

<html>